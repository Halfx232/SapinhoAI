<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="description" content="Políticas de Privacidade do Jogo do Sapinho.">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Políticas de Privacidade - Jogo do Sapinho</title>
  <link rel="icon" href="https://em-content.zobj.net/thumbs/160/twitter/322/frog_1f438.png" type="image/png">
  <!-- Meta tags Open Graph -->
  <meta property="og:title" content="Políticas de Privacidade - Jogo do Sapinho">
  <meta property="og:description" content="Conheça as políticas de privacidade do Jogo do Sapinho!">
  <meta property="og:image" content="https://seu-site.vercel.app/thumbnail.jpg"> <!-- Substitua pelo URL da thumbnail -->
  <meta property="og:url" content="https://seu-site.vercel.app/politicas.html">
  <meta property="og:type" content="website">
  <!-- Estilo inline inicial como fallback -->
  <style>
    body { margin: 0; padding: 0; font-family: sans-serif; background: linear-gradient(180deg, #1a1a1a, #2e2e2e); color: #fff; visibility: hidden; }
    #top-bar, #about-section, #footer { display: none; background: #1b5e20; color: white; padding: 10px; }
    a { color: white; text-decoration: none; }
  </style>
  <script>
    function loadStyles() {
      const body = document.body;
      const existingLinks = document.querySelectorAll('link[href="styles-desktop.css"], link[href="styles-mobile.css"]');
      existingLinks.forEach(link => link.remove());
      const styleElement = document.querySelector('style');
      if (window.innerWidth >= 1024) {
        const link = document.createElement('link');
        link.rel = 'stylesheet';
        link.href = 'styles-desktop.css';
        link.loading = 'eager';
        link.onload = () => {
          body.style.visibility = 'visible';
          document.getElementById('top-bar').style.display = 'flex';
          document.getElementById('about-section').style.display = 'block';
          document.getElementById('footer').style.display = 'block';
          styleElement.remove();
        };
        link.onerror = () => {
          body.style.visibility = 'visible';
        };
        document.head.appendChild(link);
      } else {
        const link = document.createElement('link');
        link.rel = 'stylesheet';
        link.href = 'styles-mobile.css';
        link.loading = 'eager';
        link.onload = () => {
          body.style.visibility = 'visible';
          document.getElementById('top-bar').style.display = 'flex';
          document.getElementById('about-section').style.display = 'block';
          document.getElementById('footer').style.display = 'block';
          styleElement.remove();
        };
        link.onerror = () => {
          body.style.visibility = 'visible';
        };
        document.head.appendChild(link);
      }
    }
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', loadStyles);
    } else {
      loadStyles();
    }
    window.addEventListener('resize', loadStyles);
  </script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css" />
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-SEU-ID" crossorigin="anonymous"></script>
</head>
<body>
  <div id="top-bar">
    <nav>
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="sobre.html">Sobre</a></li>
        <li><a href="contato.html">Contato</a></li>
        <li><a href="politicas.html">Políticas</a></li>
      </ul>
      <div class="weather-clock">
        <div id="weather">Previsão do Tempo</div>
        <div id="clock">Relógio</div>
      </div>
    </nav>
  </div>
  <div id="about-section">
    <h2>Políticas de Privacidade</h2>
    <p>Nosso site respeita sua privacidade. Não coletamos dados pessoais sem consentimento. Usamos cookies para melhorar a experiência do usuário e exibir anúncios personalizados. Para mais detalhes, consulte nossa política completa.</p>
  </div>
  <div id="footer">Siga o Sapinho nas redes sociais! <a href="#">Instagram</a> | <a href="#">YouTube</a> | <a href="#">TikTok</a></div>
  <script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js"></script>
  <script>
    window.addEventListener("load", function(){
      window.cookieconsent.initialise({
        "palette": { "popup": { "background": "#1b5e20" }, "button": { "background": "#00ff00" } },
        "content": { "message": "Este site usa cookies para melhorar sua experiência.", "dismiss": "Entendido", "link": "Saiba mais", "href": "/politicas.html" }
      });
    });
  </script>
  <script>
    const weatherElement = document.getElementById("weather");
    const clockElement = document.getElementById("clock");

    let lastWeatherData = null;
    let lastWeatherFetch = 0;
    const CACHE_DURATION = 10 * 60 * 1000;

    let lastTimeData = null;
    let lastTimeFetch = 0;
    const TIME_CACHE_DURATION = 60 * 1000;

    async function fetchWeather() {
      try {
        const now = Date.now();
        if (lastWeatherData && now - lastWeatherFetch < CACHE_DURATION) {
          weatherElement.textContent = lastWeatherData;
          return;
        }
        const API_KEY = "b8a0cd03c689322da2746720be31d534";
        const city = "São Paulo";
        const response = await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${API_KEY}&lang=pt_br&units=metric`);
        if (!response.ok) throw new Error(`Falha na API OpenWeatherMap: ${response.status}`);
        const data = await response.json();
        const temp = Math.round(data.main.temp);
        const description = data.weather[0].description;
        lastWeatherData = ` ${city}: ${temp}°C, ${description}`;
        lastWeatherFetch = now;
        weatherElement.textContent = lastWeatherData;
      } catch (error) {
        console.error("Erro ao buscar previsão do tempo:", error);
        weatherElement.textContent = "Clima indisponível";
      }
    }

    async function atualizarHora() {
      try {
        const now = Date.now();
        if (lastTimeData && now - lastTimeFetch < TIME_CACHE_DURATION) {
          clockElement.textContent = lastTimeData;
          return;
        }
        const response = await fetch("https://worldtimeapi.org/api/timezone/America/Sao_Paulo");
        if (!response.ok) throw new Error(`Falha na API WorldTimeAPI: ${response.status}`);
        const data = await response.json();
        const dateTime = new Date(data.datetime);
        lastTimeData = ` ${dateTime.toLocaleDateString('pt-BR')} - ${dateTime.toLocaleTimeString('pt-BR')}`;
        lastTimeFetch = now;
        clockElement.textContent = lastTimeData;
      } catch (error) {
        console.error("Erro ao buscar hora:", error);
        setTimeout(atualizarHora, 2000); // Retry após 2 segundos
        const now = new Date();
        lastTimeData = ` ${now.toLocaleDateString('pt-BR')} - ${now.toLocaleTimeString('pt-BR')}`;
        clockElement.textContent = lastTimeData;
      }
    }

    window.addEventListener('load', () => {
      fetchWeather();
      atualizarHora();
      setInterval(fetchWeather, 10 * 60 * 1000);
      setInterval(atualizarHora, 60 * 1000);
    });
  </script>
</body>
</html>
